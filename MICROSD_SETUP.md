# ЁЯО╡ MicroSD Card Setup Guide

## ЁЯУБ File Structure р╕кр╕│р╕лр╕гр╕▒р╕Ъ DFPlayer Mini

### тЬЕ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З:
```
MicroSD Card (FAT32 Format)
тФЬтФАтФА 0001.mp3  - ЁЯМзя╕П р╕Эр╕Щр╕Хр╕Б (Rain sounds)
тФЬтФАтФА 0002.mp3  - ЁЯМК р╕Др╕ер╕╖р╣Ир╕Щр╕Чр╕░р╣Ар╕е (Ocean waves)  
тФЬтФАтФА 0003.mp3  - ЁЯО╡ р╣Ар╕Юр╕ер╕Зр╕Бр╕ер╣Ир╕нр╕б (Lullaby)
тФЬтФАтФА 0004.mp3  - ЁЯО╢ р╣Ар╕Юр╕ер╕Зр╕Ър╕│р╕Ър╕▒р╕Ф (Therapy music)
тФЬтФАтФА 0005.mp3  - ЁЯЩП р╕Ър╕Чр╕Шр╕▒р╕бр╕Ир╕▒р╕Бр╕гр╕Бр╕▒р╕Ыр╕Ыр╕зр╕▒р╕Хр╕Щр╕кр╕╣р╕Хр╕г (Dharma chant)
тФЬтФАтФА 0006.mp3  - ЁЯУ┐ р╕гр╕зр╕бр╕Ър╕Чр╕бр╕Зр╕Др╕е (Mongkol chants)
тФЬтФАтФА 0007.mp3  - ЁЯФФ р╕Вр╕▒р╕Щр╕Чр╕┤р╣Ар╕Ър╕Х (Tibetan bells)
тФЬтФАтФА 0008.mp3  - ЁЯОп 432Hz+528Hz (Healing frequencies)
тФЬтФАтФА 0009.mp3  - ЁЯО╣ р╣Ар╕кр╕╡р╕вр╕Зр╣Ар╕Ыр╕╡р╕вр╣Вр╕Щ (Piano sounds)
тФФтФАтФА 0010.mp3  - ЁЯО╝ р╣Вр╕бр╕кр╕▓р╕гр╣Мр╕Чр╕Бр╕ер╣Ир╕нр╕бр╕Щр╕▓р╕Щ (Mozart lullaby)
```

## ЁЯФз Setup Steps

### 1. Format MicroSD Card
```
- Format: FAT32
- Allocation Unit Size: Default
- Volume Label: SLEEPHELPER (optional)
```

### 2. Copy MP3 Files
```
- Copy р╣Др╕Яр╕ер╣Мр╣Ар╕Юр╕ер╕Зр╣Др╕Ыр╕вр╕▒р╕З root directory р╕Вр╕нр╕З MicroSD Card
- р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕вр╣Ир╕нр╕в
- р╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣Мр╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ: 0001.mp3, 0002.mp3, ..., 0010.mp3
```

### 3. File Requirements
```
- Format: MP3
- Bitrate: 128kbps р╕лр╕гр╕╖р╕нр╕Хр╣Ир╕│р╕Бр╕зр╣Ир╕▓ (р╣Бр╕Щр╕░р╕Щр╕│ 64-96kbps)
- Sample Rate: 44.1kHz р╕лр╕гр╕╖р╕нр╕Хр╣Ир╕│р╕Бр╕зр╣Ир╕▓
- File Size: р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 32MB р╕Хр╣Ир╕нр╣Др╕Яр╕ер╣М
- Duration: 5-30 р╕Щр╕▓р╕Чр╕╡ р╕Хр╣Ир╕нр╣Др╕Яр╕ер╣М
```

## ЁЯОп Track Mapping

| Track # | File Name | Web Interface | Description |
|---------|-----------|---------------|-------------|
| 1 | 0001.mp3 | ЁЯМзя╕П р╕Эр╕Щр╕Хр╕Б | Rain sounds |
| 2 | 0002.mp3 | ЁЯМК р╕Др╕ер╕╖р╣Ир╕Щр╕Чр╕░р╣Ар╕е | Ocean waves |
| 3 | 0003.mp3 | ЁЯО╡ р╣Ар╕Юр╕ер╕Зр╕Бр╕ер╣Ир╕нр╕б | Lullaby |
| 4 | 0004.mp3 | ЁЯО╢ р╣Ар╕Юр╕ер╕Зр╕Ър╕│р╕Ър╕▒р╕Ф | Therapy music |
| 5 | 0005.mp3 | ЁЯЩП р╕Ър╕Чр╕Шр╕▒р╕бр╕Ир╕▒р╕Бр╕гр╕Бр╕▒р╕Ыр╕Ыр╕зр╕▒р╕Хр╕Щр╕кр╕╣р╕Хр╕г | Dharma chant |
| 6 | 0006.mp3 | ЁЯУ┐ р╕гр╕зр╕бр╕Ър╕Чр╕бр╕Зр╕Др╕е | Mongkol chants |
| 7 | 0007.mp3 | ЁЯФФ р╕Вр╕▒р╕Щр╕Чр╕┤р╣Ар╕Ър╕Х | Tibetan bells |
| 8 | 0008.mp3 | ЁЯОп 432Hz+528Hz | Healing frequencies |
| 9 | 0009.mp3 | ЁЯО╣ р╣Ар╕кр╕╡р╕вр╕Зр╣Ар╕Ыр╕╡р╕вр╣Вр╕Щ | Piano sounds |
| 10 | 0010.mp3 | ЁЯО╝ р╣Вр╕бр╕кр╕▓р╕гр╣Мр╕Чр╕Бр╕ер╣Ир╕нр╕бр╕Щр╕▓р╕Щ | Mozart lullaby |

## ЁЯзк Testing

### 1. File Verification
```
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕Яр╕ер╣Мр╕нр╕вр╕╣р╣Ир╣Гр╕Щ root directory
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М: 0001.mp3, 0002.mp3, etc.
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М: р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 32MB
```

### 2. DFPlayer Test
```
- р╣Гр╕кр╣И MicroSD Card р╣Ар╕Вр╣Йр╕▓ DFPlayer Mini
- р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ ESP8266
- р╕Чр╕Фр╕кр╕нр╕Ър╕Ьр╣Ир╕▓р╕Щ web interface:
  - р╣Ар╕ер╕╖р╕нр╕Бр╣Ар╕Юр╕ер╕З 1-10
  - р╕Бр╕Фр╣Ар╕ер╣Ир╕Щ/р╕лр╕вр╕╕р╕Ф
  - р╕Ыр╕гр╕▒р╕Ър╕гр╕░р╕Фр╕▒р╕Ър╣Ар╕кр╕╡р╕вр╕З
```

### 3. API Testing
```bash
# Test track selection
curl http://172.20.10.7/play?track=1
curl http://172.20.10.7/play?track=5
curl http://172.20.10.7/play?track=10

# Test volume control
curl http://172.20.10.7/volume?level=15
curl http://172.20.10.7/volume?level=25

# Test play/pause
curl http://172.20.10.7/pause
curl http://172.20.10.7/play
```

## тЪая╕П Common Issues

### тЭМ р╣Др╕Яр╕ер╣Мр╣Др╕бр╣Ир╣Ар╕ер╣Ир╕Щ
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣М: р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ 0001.mp3, 0002.mp3, etc.
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╣Др╕Яр╕ер╣М: р╕Хр╣Йр╕нр╕Зр╕нр╕вр╕╣р╣Ир╣Гр╕Щ root directory
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ format: р╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щ FAT32
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М: р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 32MB

### тЭМ р╣Ар╕кр╕╡р╕вр╕Зр╣Др╕бр╣Ир╕Фр╕▒р╕З
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕ер╕│р╣Вр╕Юр╕З
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕гр╕░р╕Фр╕▒р╕Ър╣Ар╕кр╕╡р╕вр╕З DFPlayer (0-30)
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ power supply р╕Вр╕нр╕З DFPlayer
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣М MP3 quality

### тЭМ DFPlayer р╣Др╕бр╣Ир╕Хр╕нр╕Ър╕кр╕Щр╕нр╕З
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╣Ир╕нр╕кр╕▓р╕в TX/RX
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ power supply
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ MicroSD Card
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ baud rate (9600)

## ЁЯО╡ Recommended Audio Sources

### Free Resources
- **Freesound.org**: Sound effects р╣Бр╕ер╕░ ambient sounds
- **YouTube Audio Library**: р╣Ар╕Юр╕ер╕Зр╕Яр╕гр╕╡р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
- **Zapsplat**: Sound effects (р╕Хр╣Йр╕нр╕Зр╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б)
- **BBC Sound Effects**: Sound effects р╕Яр╕гр╕╡

### Commercial Resources
- **AudioJungle**: р╣Ар╕Юр╕ер╕Зр╣Бр╕ер╕░ sound effects
- **Pond5**: Audio content
- **Artlist**: Music р╣Бр╕ер╕░ sound effects

### DIY Recording
- р╣Гр╕Кр╣Й smartphone р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Ар╕кр╕╡р╕вр╕Зр╕Шр╕гр╕гр╕бр╕Кр╕▓р╕Хр╕┤
- р╣Гр╕Кр╣Й software р╣Бр╕Ыр╕ер╕Зр╣Ар╕Ыр╣Зр╕Щ MP3 format
- р╣Гр╕Кр╣Й Audacity р╕кр╕│р╕лр╕гр╕▒р╕Ъ edit audio

## ЁЯФз Audio Conversion

### Using FFmpeg
```bash
# Convert to MP3 with optimal settings
ffmpeg -i input.wav -codec:a libmp3lame -b:a 96k -ar 44100 output.mp3

# Batch convert multiple files
for i in {1..10}; do
    ffmpeg -i "track_${i}.wav" -codec:a libmp3lame -b:a 96k -ar 44100 "000${i}.mp3"
done
```

### Using Online Converters
- **CloudConvert**: Convert р╣Др╕Яр╕ер╣Мр╕нр╕нр╕Щр╣Др╕ер╕Щр╣М
- **Online Audio Converter**: р╕Яр╕гр╕╡ online converter
- **Convertio**: р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕лр╕ер╕▓р╕в format

## ЁЯУК File Size Optimization

### Recommended Settings
```
- Bitrate: 96kbps (р╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Фр╕кр╕│р╕лр╕гр╕▒р╕Ъ DFPlayer)
- Sample Rate: 44.1kHz
- Channels: Stereo р╕лр╕гр╕╖р╕н Mono
- Format: MP3
```

### File Size Estimates
```
- 5 р╕Щр╕▓р╕Чр╕╡ @ 96kbps: ~3.6MB
- 10 р╕Щр╕▓р╕Чр╕╡ @ 96kbps: ~7.2MB  
- 15 р╕Щр╕▓р╕Чр╕╡ @ 96kbps: ~10.8MB
- 30 р╕Щр╕▓р╕Чр╕╡ @ 96kbps: ~21.6MB
```

## ЁЯОЙ Success Indicators

### тЬЕ MicroSD Setup р╕кр╕│р╣Ар╕гр╣Зр╕Ир╣Ар╕бр╕╖р╣Ир╕н:
- [ ] р╣Др╕Яр╕ер╣Мр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕нр╕вр╕╣р╣Ир╣Гр╕Щ root directory
- [ ] р╕Кр╕╖р╣Ир╕нр╣Др╕Яр╕ер╣Мр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З: 0001.mp3 р╕Цр╕╢р╕З 0010.mp3
- [ ] DFPlayer р╕нр╣Ир╕▓р╕Щр╣Др╕Яр╕ер╣Мр╣Др╕Фр╣Й
- [ ] р╣Ар╕кр╕╡р╕вр╕Зр╣Ар╕ер╣Ир╕Щр╕Ьр╣Ир╕▓р╕Щр╕ер╕│р╣Вр╕Юр╕Зр╣Др╕Фр╣Й
- [ ] р╕Др╕зр╕Ър╕Др╕╕р╕бр╕Ьр╣Ир╕▓р╕Щ web interface р╣Др╕Фр╣Й
- [ ] р╣Др╕бр╣Ир╕бр╕╡ error р╣Гр╕Щ Serial Monitor

### ЁЯОп Performance Targets
- [ ] р╣Др╕Яр╕ер╣Мр╣Вр╕лр╕ер╕Фр╣Ар╕гр╣Зр╕з (< 2 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡)
- [ ] р╣Ар╕кр╕╡р╕вр╕Зр╕Кр╕▒р╕Фр╣Ар╕Ир╕Щр╣Др╕бр╣Ир╕бр╕╡ distortion
- [ ] Volume control р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Й
- [ ] Play/Pause responsive
- [ ] р╣Др╕бр╣Ир╕бр╕╡р╣Ар╕кр╕╡р╕вр╕Зр╕гр╕Ър╕Бр╕зр╕Щ

**Happy Audio Setup! ЁЯО╡тЬи**
